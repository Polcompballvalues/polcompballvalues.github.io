var e,r,t,a,n,o,d,s,l,i,c,m,w,u,E,v,g;import{Canvas as h,getJson as p}from"./common.js";for(g=await p("values"),E=await p("users"),m={gallery:!0,edition:"User gallery",version:window.VERSION},t=document.getElementById("banner"),[e,n]=window.matchMedia("(prefers-color-scheme: dark)").matches?["#333","#EEE"]:["#EEE","#333"],r=new h(t,1860,800,n,e),a=e=>{var t,a,n,o,d,s,l;for(r.clearFields(),t={...m,user:e.name},s=Object.values(e.stats),a=n=0,o=(d=Object.keys(s)).length;n<o;a=++n)l=d[a],r.drawValueBg(a),r.drawScoreRect(s,g,l,a),r.drawScoreLabel(s[l],g,a);return r.drawHeader(t)},(u=document.getElementById("userdropdown")).addEventListener("change",(()=>a(E[u.selectedIndex]))),o=s=0,i=E.length;s<i;o=++s)w=E[o],u.innerHTML+=`<option value=${o}>${w.name}</option>`;for(d=l=0,c=g.length;l<c;d=++l)v=g[d],r.drawValues(v,d);setTimeout((()=>{var e;return(e=document.createEvent("Event")).initEvent("load",!1,!1),window.dispatchEvent(e),a(E[0])}),300);