var t,e;e=async t=>(await fetch("./dist/"+t+".json")).json(),t=class t{constructor(t,e,i,s,l){this.element=t,this.fg=s,this.bg=l,this.element.height=e,this.element.width=i,this.ctx=this.element.getContext("2d"),this.ctx.fillStyle=this.bg,this.ctx.fillRect(0,0,i,e)}drawValueBg(t){var e;return this.ctx.strokeStyle="#000",this.ctx.lineJoin="round",this.ctx.lineWidth=75,this.ctx.fillStyle="#222222",e=170+120*t,this.ctx.strokeRect(165,50+e,470,0)}drawValues(t,e){var i,s,l;return i=170+120*e,(s=new Image).src="./assets/values/"+t.icons[0],s.addEventListener("load",(()=>this.ctx.drawImage(s,20,i,100,100))),(l=new Image).src="./assets/values/"+t.icons[1],l.addEventListener("load",(()=>this.ctx.drawImage(l,680,i,100,100)))}drawScoreRect(t,e,i,s){var l,r,c,h,x,n,a,o,f;return this.ctx.lineWidth=65,a=t[i],n=220+120*s,c=e[s].color,[l,r]=a>50?[c[1],c[0]]:[c[0],c[1]],[o,f]=a>50?[636-4.72*(100-a),166]:[166,636-4.72*(100-a)],[h,x]=a>50?[4.72*(100-a)-2,4.72*a-2]:[4.72*a-2,4.72*(100-a)-2],this.ctx.strokeStyle=l,this.ctx.strokeRect(o,n,h,0),this.ctx.strokeStyle=r,this.ctx.strokeRect(f,n,x,0)}static findTier(t){var e,i,s,l;for(e=i=0,s=(l=[0,5,15,25,35,45,55,65,75,85,95]).length;i<s;e=++i)if(l[e],t<l[e])return l.length-e;return 0}drawScoreLabel(e,i,s){var l,r;if(this.ctx.font="50px 'Source Sans Pro', sans-serif",l=120*s+237.5,null===e||e>100||e<0)throw Error("Invalid score: "+e);return e>30&&(this.ctx.fillStyle=i[s].white_label[0]?"#FFF":"#000",this.ctx.textAlign="left",this.ctx.fillText(e.toFixed(1)+"%",150,l)),e<70&&(this.ctx.fillStyle=i[s].white_label[1]?"#FFF":"#000",this.ctx.textAlign="right",this.ctx.fillText((100-e).toFixed(1)+"%",650,l)),this.ctx.fillStyle=this.fg,this.ctx.textAlign="center",this.ctx.font="bold 30px 'Source Sans Pro', sans-serif",r=i[s].name.charAt(0).toUpperCase()+i[s].name.slice(1),this.ctx.fillText(r+" Axis: "+i[s].tiers[t.findTier(e)],400,170+120*s,550)}drawHeader(t){var e;return this.ctx.fillStyle=this.fg,this.ctx.font="700 50px 'Source Sans Pro', sans-serif",this.ctx.textAlign="left",this.ctx.fillText("PolcompballValues",20,90),this.ctx.font="30px 'Source Sans Pro', sans-serif",e=t.gallery?t.user:"Closest match: "+t.user,this.ctx.fillText(e,20,130,700),this.ctx.textAlign="right",this.ctx.font="300 25px 'Source Sans Pro', sans-serif",this.ctx.fillText("polcompballvalues.github.io",780,40),this.ctx.fillText(t.version,780,70),this.ctx.fillText(t.edition,780,100)}clearFields(){return this.ctx.fillStyle=this.bg,this.ctx.fillRect(126,130,550,1730),this.ctx.fillRect(0,0,800,150)}};export{e as getJson,t as Canvas};